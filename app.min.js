!function(){angular.module("portfolio",["portfolio.controllers","portfolio.services","ngAnimate","ngSanitize"]).directive("portfolioItem",function(){return{restrict:"E",templateUrl:"angular/portfolio-item.html"}}).directive("portfolioItemDetail",function(){return{restrict:"E",templateUrl:"angular/portfolio-item-detail.html"}}).directive("tagCheckbox",function(){return{restrict:"E",templateUrl:"angular/tag-checkbox.html"}})}(),function(){angular.module("portfolio.controllers",[]).controller("PortfolioCtrl",["$scope","Projects",function($scope,Projects){$scope.projects=Projects.query(),$scope.projects.$promise.then(function(result){$scope.allTags=[],angular.forEach(result,function(value){$scope.allTags=uniqueTags($scope.allTags.concat(value.tags))}),$scope.selectedTags=$scope.allTags}),$scope.detailRequested=!1,$scope.getProjectDetail=function(projectId){$scope.project=Projects.get({projectId:projectId}),$scope.project.$promise.then(function(result){$scope.project=result,$scope.detailRequested=!0})},$scope.unsetProjectDetail=function(){$scope.detailRequested=!1,$scope.project={}},$scope.nothingSelected=!0,$scope.addTag=function($event,tag){var action=$event.target.checked?"add":"remove";$scope.nothingSelected&&($scope.selectedTags=[],$scope.nothingSelected=!1),"add"===action?$scope.selectedTags.push(tag):($scope.selectedTags.splice(tag,1),$scope.selectedTags.length||($scope.selectedTags=$scope.allTags,$scope.nothingSelected=!0))},$scope.hasTags=function(project){for(var i=0;i<project.tags.length;i++)if(-1!==$scope.selectedTags.indexOf(project.tags[i]))return!0;return!1};var uniqueTags=function(array){for(var a=array.concat(),i=0;i<a.length;i++)for(var j=i+1;j<a.length;++j)a[i]===a[j]&&a.splice(j--,1);return a}}])}(),function(){angular.module("portfolio.services",["ngResource"]).factory("Projects",["$resource",function($resource){return $resource("projects/:projectId.json",{},{query:{method:"GET",params:{projectId:"projects"},isArray:!0}})}])}();